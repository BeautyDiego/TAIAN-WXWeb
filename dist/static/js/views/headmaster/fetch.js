webpackJsonp([7],{110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n.n(a),o=n(7),s=n.n(o),c=n(31),i=n.n(c),d=n(4),u=n.n(d),p=n(14),h=n.n(p),f=n(1),l=n.n(f),v=n(24),w=this;t.default=function(){var e=l()(r.a.mark(function e(){var t,n,a,o,c,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"fetch";return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=f.toUpperCase(),d=v.b+d,"GET"==f&&(t="",h()(p).forEach(function(e){t+=e+"="+p[e]+"&"}),""!==t&&(t=t.substr(0,t.lastIndexOf("&")),d=d+"?"+t)),n=new Headers,n.append("Content-Type","application/json"),n.append("Accept","application/json"),n.append("Authorization",l),!window.fetch||"fetch"!=b){e.next=26;break}return a={method:f,headers:n,mode:"cors",cache:"force-cache",credentials:"include"},"POST"==f&&Object.defineProperty(a,"body",{value:u()(p)}),e.prev=10,e.next=13,fetch(d,a);case 13:return o=e.sent,401===o.status&&(window.location=v.a+"/views/headmaster/index.html#/redirect"),e.next=17,o.json();case 17:return c=e.sent,e.abrupt("return",c);case 21:throw e.prev=21,e.t0=e.catch(10),new Error(e.t0);case 24:e.next=28;break;case 26:return console.log("not support fetch!"),e.abrupt("return",new i.a(function(e,t){var n=void 0;n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject;var a="";"POST"==f&&(a=u()(p)),n.open(f,d,!0),n.setRequestHeader("Content-type","application/json"),n.setRequestHeader("Authorization",l),n.send(a),n.onreadystatechange=function(){if(4===n.readyState)if(n.status,200===n.status){var a=n.response;"object"!==(void 0===a?"undefined":s()(a))&&(a=JSON.parse(a)),e(a)}else 401===n.status?window.location=v.a+"/views/headmaster/index.html#/redirect":t(n)}}));case 28:case"end":return e.stop()}},e,w,[[10,21]])}));return function(){return e.apply(this,arguments)}}()}},[110]);